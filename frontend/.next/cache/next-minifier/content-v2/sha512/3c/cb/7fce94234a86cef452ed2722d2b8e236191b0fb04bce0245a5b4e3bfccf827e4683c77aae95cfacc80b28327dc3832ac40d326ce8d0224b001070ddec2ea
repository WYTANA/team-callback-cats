{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[35],{LyKl:function(t,e,a){\"use strict\";a.r(e);var n=a(\"1OyB\"),r=a(\"vuIU\"),o=a(\"Ji7U\"),c=a(\"md7G\"),l=a(\"foSv\"),s=a(\"q1tI\"),u=a.n(s),i=a(\"uf77\"),d=a(\"wW3a\"),f=a(\"UhCr\"),p=a(\"JX7q\"),b=a(\"rePB\"),h=a(\"GGqY\"),m=a(\"xWvD\"),v=u.a.createElement;function O(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var j=function(t){Object(o.a)(a,t);var e=O(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o)),Object(b.a)(Object(p.a)(t),\"state\",{modal:!1,selected:\"\"}),Object(b.a)(Object(p.a)(t),\"closeModal\",(function(){t.props.onClick(t.state.modal)})),Object(b.a)(Object(p.a)(t),\"handleUpdate\",(function(e){if(e.preventDefault(),\"\"===t.state.selected)return!1;m.b.firestore().collection(\"orders\").doc(t.props.orderId).update({status:t.state.selected}),h.c.success(\"Status changed to \"+t.state.selected,{position:\"bottom-left\",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout((function(){t.closeModal(),window.location.reload(!1)}),1e3)})),t}return Object(r.a)(a,[{key:\"render\",value:function(){var t=this;return v(u.a.Fragment,null,v(\"div\",{className:\"admin-product-modal \".concat(this.props.active)},v(\"div\",{className:\"modal-innter-content\"},v(\"button\",{type:\"button\",className:\"close\",onClick:this.closeModal},v(\"span\",{\"aria-hidden\":\"true\"},v(\"i\",{className:\"bx bx-x\"}))),v(\"div\",{className:\"modal-body\"},v(\"h3\",null,\"Order Update\"),v(\"form\",{onSubmit:this.handleUpdate},v(\"div\",{className:\"form-group\"},v(\"label\",null,\"Order Status\"),v(\"select\",{className:\"form-control\",id:\"product-type\",onChange:function(e){return t.setState({selected:e.target.value})}},v(\"option\",null,\"Select Option\"),v(\"option\",{value:\"delivered\"},\"Delivered\"),v(\"option\",{value:\"pending\"},\"Pending\"),v(\"option\",{value:\"cancel\"},\"Declined\"))),v(\"div\",{className:\"modal-btn\"},v(\"div\",{className:\"btn optional-btn float-left\",onClick:this.closeModal},\"Cancel\"),v(\"button\",{className:\"btn default-btn float-right\"},\"Update\")))))))}}]),a}(s.Component),y=u.a.createElement;function g(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var w=function(t){Object(o.a)(a,t);var e=g(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o)),Object(b.a)(Object(p.a)(t),\"state\",{orderUpdateModal:!0}),Object(b.a)(Object(p.a)(t),\"toggleOrderUpdateModal\",(function(){t.setState({orderUpdateModal:!t.state.orderUpdateModal}),t.props.onOrderModal(t.state.orderUpdateModal)})),Object(b.a)(Object(p.a)(t),\"passId\",(function(e){t.props.onPassId(e)})),Object(b.a)(Object(p.a)(t),\"convertDateTime\",(function(t){var e=new Date(1970,0,1).setSeconds(t.seconds),a=new Intl.DateTimeFormat(\"en\",{year:\"numeric\"}).format(e),n=new Intl.DateTimeFormat(\"en\",{month:\"short\"}).format(e),r=new Intl.DateTimeFormat(\"en\",{day:\"2-digit\"}).format(e);return\"\".concat(r,\"-\").concat(n,\"-\").concat(a)})),Object(b.a)(Object(p.a)(t),\"statusBtn\",(function(t){return\"pending\"===t?y(\"span\",{className:\"badge badge_warning\"},\"Pending\"):\"cancel\"===t?y(\"span\",{className:\"badge badge_danger\"},\"Cancel\"):y(\"span\",{className:\"badge badge_success\"},\"Delivered\")})),t}return Object(r.a)(a,[{key:\"render\",value:function(){var t=this,e=this.props.orders;return y(u.a.Fragment,null,e.map((function(e,a){return y(\"tr\",{key:a,onClick:function(a){t.toggleOrderUpdateModal(),t.passId(e.id)}},y(\"td\",null,y(\"strong\",null,\"#\",e.id)),y(\"td\",null,t.convertDateTime(e.createdAt)),y(\"td\",null,e.customerDetails.address),y(\"td\",null,\"$\",e.amount),y(\"td\",null,\"Stripe\"),y(\"td\",null,e.customerDetails.phone),y(\"td\",null,t.statusBtn(e.status)))})))}}]),a}(s.Component),N=u.a.createElement;function M(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var U=function(t){Object(o.a)(a,t);var e=M(a);function a(){var t;Object(n.a)(this,a);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o)),Object(b.a)(Object(p.a)(t),\"state\",{ordersData:[],loading:!0,orderUpdateModal:!1,orderId:\"\"}),Object(b.a)(Object(p.a)(t),\"toggleOrderUpdateModal\",(function(e){t.setState({orderUpdateModal:e})})),Object(b.a)(Object(p.a)(t),\"closeOrderUpdateModal\",(function(){t.setState({orderUpdateModal:!1})})),Object(b.a)(Object(p.a)(t),\"getId\",(function(e){t.setState({orderId:e})})),t}return Object(r.a)(a,[{key:\"componentDidMount\",value:function(){var t=this,e=m.b.firestore().collection(\"orders\"),a=[];e.get().then((function(e){e.forEach((function(t){var e=t.data();e.id=t.id,a.push(e)})),t.setState({ordersData:a}),t.loading=!1})).catch((function(t){console.log(\"error\",t)}))}},{key:\"render\",value:function(){var t=this.state,e=t.ordersData,a=t.loading;return N(\"div\",{className:\"admin-main-content d-flex flex-column\"},N(\"div\",{className:\"page-header\"},N(\"h2\",null,\"Orders\")),N(\"div\",{className:\"admin-table admin-orders-table height-555\"},N(\"div\",{className:\"table-responsive\"},N(\"table\",{className:\"table table-hover mb-0\"},N(\"thead\",null,N(\"tr\",null,N(\"th\",null,\"Customer ID\"),N(\"th\",null,\"Date\"),N(\"th\",null,\"Delivery Address\"),N(\"th\",null,\"Amount\"),N(\"th\",null,\"Payment Method\"),N(\"th\",null,\"Contact\"),N(\"th\",null,\"Status\"))),N(\"tbody\",null,a?N(w,{onOrderModal:this.toggleOrderUpdateModal,onPassId:this.getId,orders:e}):\"Loading...\")))),N(j,{onClick:this.closeOrderUpdateModal,orderId:this.state.orderId,active:this.state.orderUpdateModal?\"active\":\"\"}),N(\"div\",{className:\"flex-grow-1\"}))}}]),a}(s.Component),D=u.a.createElement;function R(t){var e=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,n=Object(l.a)(t);if(e){var r=Object(l.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var C=function(t){Object(o.a)(a,t);var e=R(a);function a(){return Object(n.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:\"render\",value:function(){return D(u.a.Fragment,null,D(i.a,null),D(d.a,null),D(U,null))}}]),a}(s.Component);e.default=Object(f.a)(C)},wopW:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/orders\",function(){return a(\"LyKl\")}])}},[[\"wopW\",0,2,9,10,1,3,11,14,16]]]);","extractedComments":[]}